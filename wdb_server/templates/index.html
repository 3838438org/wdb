{% extends _layout.html %}

{% block script %}
  <script src="{{ static_url('javascripts/' + 'status.js' if options.debug else 'wdb/status.min.js') }}"></script>
{% end %}

{% block main %}
  <header>
    <h1 id="title">WDB
      <small>Home</small>
    </h1>
  </header>

  <article>
    <section>
      <h2>Active sessions</h2>
        <table class="sessions">
          <thead>
            <tr>
              <th>Session id</th>
              <th>Socket open</th>
              <th>Websocket open</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
    </section>
    <section>
      {% from wdb_server import StyleHandler%}

      <h2>Change theme</h2>
      <form method="post">
        <select name="theme">
          {% for theme in StyleHandler.themes %}
            <option value="{{ theme }}"{{ ' selected' if theme == StyleHandler.theme else '' }}>{{ theme.title() }} Theme</option>
          {% end %}
        </select>
        <input type="submit" value="Change" />
      </form>
    </section>
    <section>
      <h2>Debug a file</h2>
      <form method="post" action="/debug/file/">
        <input type="text" placeholder="/home/wdb/my_file_to_debug.py" name="debug_file" />
        <input type="submit" value="Start debugging" />
      </form>
    </section>
    <section>
      <h2>Open debugger here</h2>
      <form>
        <input type="button" value="Debug me" class="open-self" />
      </form>
    </section>
    <section>
      <h2>Current global breakpoints</h2>
        <table class="breakpoints">
          <thead>
            <tr>
              <th>File</th>
              <th>Line number</th>
              <th>Condition</th>
              <th>Function</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
    </section>
  </article>
{% end %}
