/*! wdb           2014-04-11 */

(function(){var a,b,c;a=function(a,b){var c;return(c=$(".sessions tr[data-uuid="+a+"]")).size()||(c=$('<tr data-uuid="'+a+'"> <td class="uuid"><a href="/debug/session/'+a+'">'+a+'</a></td> <td class="socket">No</td> <td class="websocket">No</td> <td class="close"><a href="/uuid/'+a+'/close">Force close</a></td>'),$(".sessions tbody").append(c)),c.find("."+b).text("Yes")},b=function(a,b){var c;if((c=$(".sessions tr[data-uuid="+a+"]")).size())return"socket"===b&&"No"===c.find(".websocket").text()||"websocket"===b&&"No"===c.find(".socket").text()?c.remove():c.find("."+b).text("No")},c=function(c){var d,e,f,g;switch(f=c.data,g=f.indexOf("|"),g>-1?(d=f.substr(0,g),e=f.substr(g+1)):(d=f,e=""),d){case"NEW_WS":return a(e,"websocket");case"NEW_S":return a(e,"socket");case"RM_WS":return b(e,"websocket");case"RM_S":return b(e,"socket")}},$(function(){var a;return a=new WebSocket("ws://"+location.host+"/status"),a.onopen=function(){return console.log("WebSocket open",arguments)},a.onclose=function(){return console.log("WebSocket closed",arguments)},a.onerror=function(){return console.log("WebSocket error",arguments)},a.onmessage=c,$(".open-self").click(function(){return $.get("/self"),!1})})}).call(this);
//# sourceMappingURL=status.min.map