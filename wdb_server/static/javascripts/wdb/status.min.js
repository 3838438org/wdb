/*! wdb           2014-04-14 */

(function(){var a,b,c,d;a=function(){function a(){this.debug=$("body").attr("data-debug")||!1}return a.prototype.log=function(){var a,b;return this.debug?(b="["+this.constructor.name+"]",a=[b].concat(Array.prototype.slice.call(arguments,0)),console.log.apply(console,a)):void 0},a.prototype.fail=function(){var a,b;return b=this.constructor.name,a=[b].concat(Array.prototype.slice.call(arguments,0)),console.error.apply(console,a)},a}(),b=function(a,b){var c;return(c=$(".sessions tr[data-uuid="+a+"]")).size()||(c=$('<tr data-uuid="'+a+'"> <td class="uuid"><a href="/debug/session/'+a+'">'+a+'</a></td> <td class="socket">No</td> <td class="websocket">No</td> <td class="close"><a href="/uuid/'+a+'/close">Force close</a></td>'),$(".sessions tbody").append(c)),c.find("."+b).text("Yes")},c=function(a,b){var c;if((c=$(".sessions tr[data-uuid="+a+"]")).size())return"socket"===b&&"No"===c.find(".websocket").text()||"websocket"===b&&"No"===c.find(".socket").text()?c.remove():c.find("."+b).text("No")},d=function(a){var d,e,f,g;switch(f=a.data,g=f.indexOf("|"),g>-1?(d=f.substr(0,g),e=f.substr(g+1)):(d=f,e=""),d){case"NEW_WS":return b(e,"websocket");case"NEW_S":return b(e,"socket");case"RM_WS":return c(e,"websocket");case"RM_S":return c(e,"socket")}},$(function(){var a;return a=new WebSocket("ws://"+location.host+"/status"),a.onopen=function(){return console.log("WebSocket open",arguments)},a.onclose=function(){return console.log("WebSocket closed",arguments)},a.onerror=function(){return console.log("WebSocket error",arguments)},a.onmessage=d,$(".open-self").click(function(){return $.get("/self"),!1})})}).call(this);
//# sourceMappingURL=status.min.map